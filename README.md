# 32-bit-RISC-V-core-with-dynamic-branch-prediction

This project is an RTL implementation of a 32 bit RISC V processor core with the Integer (I) instruction set, 5 stage pipelined architecture and 1 level speculative branch execution.

RISC V is an Instruction Set Architecture (ISA) that has gained popularity in recent years due to its open source documentation.

A 32 Bit RISC V consists of a load-store architecutre with a register file of 32 registers of 32 bit width. Only load and store instructions directly access the memory, otherwise data is read from or written to the register file.

The design here consists of two main modules connected at the top level, the datapath and the control unit.

The data path contains the instruction execution pipeline, data forwarding units, hazard detection units and speculative branch execution units.
The pipeline consists of the Instruction Fetch (IF) stage, Instruction Decode (ID), Execute (EX), Memory Access (MEM) and Register Writeback (WB).
Instructions are fetched in the IF stage, instruction decoding and operand fetching occurs in the ID stage, along with branch execution. Execution of instructions by ALU occurs in EX stage.
Memory access by load or store instructions occurs in the MEM stage, and instruction output is written back to the register file in WB stage.

The control unit generates control signals corresponding to instruction execution or hazard handling.

Forwarding units have been implemented to prevent stall cycles in case of data hazards i.e. when an instruction depends on output of next instruction which is yet to be written.
Hazard detection units create stall cycles in case of load-use hazards

The Branch Target Buffer (BTB) and Branch History Table (BHT) together form the branch prediction unit that allows for 1 level speculative branch execution.
The BTB is a 4 way set associative buffer that stores addresses of previous branches, an the BHT stores the likelihood of a branch being taken. If a hit is generated by these modules, it is predicted that the branch will be taken and the instruction is speculatively fetched.
